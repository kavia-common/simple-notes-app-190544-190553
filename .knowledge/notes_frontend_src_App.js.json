{"is_source_file": true, "format": "JavaScript", "description": "This is a React component file (App.js) implementing the main UI for a simple notes application. It manages loading and saving notes locally and via API, handles CRUD operations, and provides the app's user interface elements.", "external_files": ["./App.css"], "external_methods": ["localStorage.getItem", "localStorage.setItem", "localStorage.removeItem", "fetch"], "published": ["App"], "classes": [], "methods": [{"name": "getApiBaseUrl()", "description": "Derives the API base URL from environment variables, with fallbacks.", "scope": "", "scopeKind": ""}, {"name": "apiRequest(path, options = {})", "description": "Wrapper around fetch to make API requests with base URL prefix and error handling.", "scope": "", "scopeKind": ""}, {"name": "loadNotesFromStorage()", "description": "Loads notes array from localStorage.", "scope": "", "scopeKind": ""}, {"name": "saveNotesToStorage(notes)", "description": "Saves notes array to localStorage.", "scope": "", "scopeKind": ""}, {"name": "loadSelectedIdFromStorage()", "description": "Loads the selected note ID from localStorage.", "scope": "", "scopeKind": ""}, {"name": "saveSelectedIdToStorage(id)", "description": "Saves the selected note ID to localStorage.", "scope": "", "scopeKind": ""}, {"name": "makeId()", "description": "Creates a unique-ish identifier for a note.", "scope": "", "scopeKind": ""}, {"name": "formatRelativeTime(iso)", "description": "Formats ISO date strings into relative time for display.", "scope": "", "scopeKind": ""}, {"name": "normalizeNoteFromApi(n)", "description": "Normalizes API note responses into internal note object shape.", "scope": "", "scopeKind": ""}, {"name": "tryFetchNotesFromApi()", "description": "Attempts to fetch notes from API endpoints, fallback to null if not available.", "scope": "", "scopeKind": ""}, {"name": "tryCreateNoteApi(note)", "description": "Attempts to create a new note via API.", "scope": "", "scopeKind": ""}, {"name": "tryUpdateNoteApi(id, patch)", "description": "Attempts to update a note via API.", "scope": "", "scopeKind": ""}, {"name": "tryDeleteNoteApi(id)", "description": "Attempts to delete a note via API.", "scope": "", "scopeKind": ""}, {"name": "App()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "flushSaveToApi(noteId)", "scope": "App", "scopeKind": "function", "description": "unavailable"}, {"name": "scheduleAutoSave(noteId)", "scope": "App", "scopeKind": "function", "description": "unavailable"}, {"name": "setErrorState(message)", "scope": "App", "scopeKind": "function", "description": "unavailable"}, {"name": "setSavedState()", "scope": "App", "scopeKind": "function", "description": "unavailable"}, {"name": "setSavingState()", "scope": "App", "scopeKind": "function", "description": "unavailable"}, {"name": "updateSelectedNoteLocal(patch)", "scope": "App", "scopeKind": "function", "description": "unavailable"}], "calls": ["getApiBaseUrl", "apiRequest", "loadNotesFromStorage", "saveNotesToStorage", "loadSelectedIdFromStorage", "saveSelectedIdToStorage", "makeId", "formatRelativeTime", "normalizeNoteFromApi", "tryFetchNotesFromApi", "tryCreateNoteApi", "tryUpdateNoteApi", "tryDeleteNoteApi"], "search-terms": ["React notes app", "local storage", "API sync", "note CRUD", "useEffect", "useState", "note editor", "note list", "in-memory mode"], "state": 2, "file_id": 6, "knowledge_revision": 26, "git_revision": "91e4b217241a7874bf12005055801a28ce5d0f89", "revision_history": [{"25": "91e4b217241a7874bf12005055801a28ce5d0f89"}, {"26": "91e4b217241a7874bf12005055801a28ce5d0f89"}], "ctags": [{"_type": "tag", "name": "App", "path": "/home/kavia/workspace/code-generation/simple-notes-app-190544-190553/notes_frontend/src/App.js", "pattern": "/^function App() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "STORAGE_KEY", "path": "/home/kavia/workspace/code-generation/simple-notes-app-190544-190553/notes_frontend/src/App.js", "pattern": "/^const STORAGE_KEY = \"simple_notes_app__notes_v1\";$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "STORAGE_SELECTED_KEY", "path": "/home/kavia/workspace/code-generation/simple-notes-app-190544-190553/notes_frontend/src/App.js", "pattern": "/^const STORAGE_SELECTED_KEY = \"simple_notes_app__selected_id_v1\";$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "apiRequest", "path": "/home/kavia/workspace/code-generation/simple-notes-app-190544-190553/notes_frontend/src/App.js", "pattern": "/^async function apiRequest(path, options = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(path, options = {})"}, {"_type": "tag", "name": "content", "path": "/home/kavia/workspace/code-generation/simple-notes-app-190544-190553/notes_frontend/src/App.js", "pattern": "/^      content: \"\",$/", "language": "JavaScript", "kind": "property", "scope": "App.local", "scopeKind": "class"}, {"_type": "tag", "name": "createdAt", "path": "/home/kavia/workspace/code-generation/simple-notes-app-190544-190553/notes_frontend/src/App.js", "pattern": "/^      createdAt: now,$/", "language": "JavaScript", "kind": "property", "scope": "App.local", "scopeKind": "class"}, {"_type": "tag", "name": "flushSaveToApi", "path": "/home/kavia/workspace/code-generation/simple-notes-app-190544-190553/notes_frontend/src/App.js", "pattern": "/^  async function flushSaveToApi(noteId) {$/", "language": "JavaScript", "kind": "function", "signature": "(noteId)", "scope": "App", "scopeKind": "function"}, {"_type": "tag", "name": "formatRelativeTime", "path": "/home/kavia/workspace/code-generation/simple-notes-app-190544-190553/notes_frontend/src/App.js", "pattern": "/^function formatRelativeTime(iso) {$/", "language": "JavaScript", "kind": "function", "signature": "(iso)"}, {"_type": "tag", "name": "getApiBaseUrl", "path": "/home/kavia/workspace/code-generation/simple-notes-app-190544-190553/notes_frontend/src/App.js", "pattern": "/^function getApiBaseUrl() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "handleDeleteSelected", "path": "/home/kavia/workspace/code-generation/simple-notes-app-190544-190553/notes_frontend/src/App.js", "pattern": "/^            onClick={handleDeleteSelected}$/", "language": "JavaScript", "kind": "field", "scope": "App.onClick", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/simple-notes-app-190544-190553/notes_frontend/src/App.js", "pattern": "/^      id: makeId(),$/", "language": "JavaScript", "kind": "property", "scope": "App.local", "scopeKind": "class"}, {"_type": "tag", "name": "loadNotesFromStorage", "path": "/home/kavia/workspace/code-generation/simple-notes-app-190544-190553/notes_frontend/src/App.js", "pattern": "/^function loadNotesFromStorage() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "loadSelectedIdFromStorage", "path": "/home/kavia/workspace/code-generation/simple-notes-app-190544-190553/notes_frontend/src/App.js", "pattern": "/^function loadSelectedIdFromStorage() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "local", "path": "/home/kavia/workspace/code-generation/simple-notes-app-190544-190553/notes_frontend/src/App.js", "pattern": "/^    const local = {$/", "language": "JavaScript", "kind": "class", "scope": "App", "scopeKind": "class"}, {"_type": "tag", "name": "makeId", "path": "/home/kavia/workspace/code-generation/simple-notes-app-190544-190553/notes_frontend/src/App.js", "pattern": "/^function makeId() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "normalizeNoteFromApi", "path": "/home/kavia/workspace/code-generation/simple-notes-app-190544-190553/notes_frontend/src/App.js", "pattern": "/^function normalizeNoteFromApi(n) {$/", "language": "JavaScript", "kind": "function", "signature": "(n)"}, {"_type": "tag", "name": "query", "path": "/home/kavia/workspace/code-generation/simple-notes-app-190544-190553/notes_frontend/src/App.js", "pattern": "/^                value={query}$/", "language": "JavaScript", "kind": "field", "scope": "App.value", "scopeKind": "class"}, {"_type": "tag", "name": "saveNotesToStorage", "path": "/home/kavia/workspace/code-generation/simple-notes-app-190544-190553/notes_frontend/src/App.js", "pattern": "/^function saveNotesToStorage(notes) {$/", "language": "JavaScript", "kind": "function", "signature": "(notes)"}, {"_type": "tag", "name": "saveSelectedIdToStorage", "path": "/home/kavia/workspace/code-generation/simple-notes-app-190544-190553/notes_frontend/src/App.js", "pattern": "/^function saveSelectedIdToStorage(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)"}, {"_type": "tag", "name": "scheduleAutoSave", "path": "/home/kavia/workspace/code-generation/simple-notes-app-190544-190553/notes_frontend/src/App.js", "pattern": "/^  function scheduleAutoSave(noteId) {$/", "language": "JavaScript", "kind": "function", "signature": "(noteId)", "scope": "App", "scopeKind": "function"}, {"_type": "tag", "name": "setErrorState", "path": "/home/kavia/workspace/code-generation/simple-notes-app-190544-190553/notes_frontend/src/App.js", "pattern": "/^  function setErrorState(message) {$/", "language": "JavaScript", "kind": "function", "signature": "(message)", "scope": "App", "scopeKind": "function"}, {"_type": "tag", "name": "setSavedState", "path": "/home/kavia/workspace/code-generation/simple-notes-app-190544-190553/notes_frontend/src/App.js", "pattern": "/^  function setSavedState() {$/", "language": "JavaScript", "kind": "function", "signature": "()", "scope": "App", "scopeKind": "function"}, {"_type": "tag", "name": "setSavingState", "path": "/home/kavia/workspace/code-generation/simple-notes-app-190544-190553/notes_frontend/src/App.js", "pattern": "/^  function setSavingState() {$/", "language": "JavaScript", "kind": "function", "signature": "()", "scope": "App", "scopeKind": "function"}, {"_type": "tag", "name": "title", "path": "/home/kavia/workspace/code-generation/simple-notes-app-190544-190553/notes_frontend/src/App.js", "pattern": "/^      title: \"Untitled\",$/", "language": "JavaScript", "kind": "property", "scope": "App.local", "scopeKind": "class"}, {"_type": "tag", "name": "tryCreateNoteApi", "path": "/home/kavia/workspace/code-generation/simple-notes-app-190544-190553/notes_frontend/src/App.js", "pattern": "/^async function tryCreateNoteApi(note) {$/", "language": "JavaScript", "kind": "function", "signature": "(note)"}, {"_type": "tag", "name": "tryDeleteNoteApi", "path": "/home/kavia/workspace/code-generation/simple-notes-app-190544-190553/notes_frontend/src/App.js", "pattern": "/^async function tryDeleteNoteApi(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)"}, {"_type": "tag", "name": "tryFetchNotesFromApi", "path": "/home/kavia/workspace/code-generation/simple-notes-app-190544-190553/notes_frontend/src/App.js", "pattern": "/^async function tryFetchNotesFromApi() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "tryUpdateNoteApi", "path": "/home/kavia/workspace/code-generation/simple-notes-app-190544-190553/notes_frontend/src/App.js", "pattern": "/^async function tryUpdateNoteApi(id, patch) {$/", "language": "JavaScript", "kind": "function", "signature": "(id, patch)"}, {"_type": "tag", "name": "updateSelectedNoteLocal", "path": "/home/kavia/workspace/code-generation/simple-notes-app-190544-190553/notes_frontend/src/App.js", "pattern": "/^  function updateSelectedNoteLocal(patch) {$/", "language": "JavaScript", "kind": "function", "signature": "(patch)", "scope": "App", "scopeKind": "function"}, {"_type": "tag", "name": "updatedAt", "path": "/home/kavia/workspace/code-generation/simple-notes-app-190544-190553/notes_frontend/src/App.js", "pattern": "/^      updatedAt: now,$/", "language": "JavaScript", "kind": "property", "scope": "App.local", "scopeKind": "class"}], "hash": "b2ffb784cc910e2f908301337044966f", "format-version": 4, "code-base-name": "notes_frontend", "filename": "notes_frontend/src/App.js", "fields": [{"name": "content: \"\",", "scope": "App.local", "scopeKind": "class", "description": "unavailable"}, {"name": "createdAt: now,", "scope": "App.local", "scopeKind": "class", "description": "unavailable"}, {"name": "onClick={handleDeleteSelected}", "scope": "App.onClick", "scopeKind": "class", "description": "unavailable"}, {"name": "id: makeId(),", "scope": "App.local", "scopeKind": "class", "description": "unavailable"}, {"name": "value={query}", "scope": "App.value", "scopeKind": "class", "description": "unavailable"}, {"name": "title: \"Untitled\",", "scope": "App.local", "scopeKind": "class", "description": "unavailable"}, {"name": "updatedAt: now,", "scope": "App.local", "scopeKind": "class", "description": "unavailable"}]}